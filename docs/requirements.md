# 要件定義

## アプリの目的

### 解決したい課題
- 小学生のスマホ時間がYouTube視聴に偏りがちで、保護者に罪悪感がある
- 紙の計算ドリルでは続かず楽しめない
- 先生が推薦できる、保護者が安心して与えられるアプリが少ない

### 期待される効果
- 計算力を楽しく伸ばせる
- スマホ時間が「無駄」ではなく「学び」になる
- 保護者や先生が安心して子どもに勧められる

## 👥 想定ユーザー

### プライマリユーザー
- 小学生（1〜6年生）

### セカンダリユーザー
- 保護者（YouTube代替として）
- 小学校の先生（授業外の補助教材として）

### ユーザーの行動パターン
- 子どもは隙間時間にゲーム感覚で問題を解く
- 保護者は履歴を時々確認
- 先生は児童におすすめする

## ユースケース

### 基本フロー

| シナリオ                | 説明                                     | 頻度 |
|-------------------------|----------------------------------------|------|
| 計算カテゴリを選択する   | やりたい計算の種類を選ぶ | 毎回 |
| ゲームモードを選択する   | タイムアタック / エンドレスを選ぶ              | 毎回 |
| 問題を解いてスコアを出す | 制限時間内や間違えるまで問題を解く                    | 毎回 |
| 保護者が履歴を確認する   | 正答率や回数を保護者が確認する                        | 時々 |

### 詳細ユースケース
- 兄弟や友達と対戦モードで勝負
- 毎日1問だけデイリーチャレンジ（将来的に）
- 繰り返しで正答率アップを目指す

---

## 対応プラットフォーム

### 初期リリース
- **Android**: Android 8.0（API 26）以上
- **iOS**: iOS 14.0 以上
- **デバイス**: スマホのみ（タブレットは非対応）

### 技術制約
- 完全オフラインで動作
- データは端末内SQLite保存
- ログイン認証なし

## 機能要件（初期バージョン）

### データ管理

#### プレイヤー情報管理
- [ ] 匿名プレイヤー名登録
- [ ] スコア履歴SQLite保存
- [ ] ログイン不要

#### 計算問題管理
- [ ] カテゴリ選択（繰り上がり・繰り下がりあり/なし）
- [ ] 難易度別問題生成
- [ ] ユーティリティ化して単体テスト可能

#### 状態管理
- [ ] Providerで状態管理
- [ ] 選択中カテゴリ・モードの保持
- [ ] 正答数・残り時間のリアクティブ更新

### ゲームモード

- [ ] タイムアタック
- [ ] 間違えるまでのエンドレス
- [ ] フレンド対戦（ローカル）
- [ ] デイリーチャレンジ（将来的）

## 非対応（初期）

- ランキング機能
- Firebase連携
- オンライン対戦
- 認証/SNS連携
- クラウド保存
- 広告表示

## 非機能要件

### パフォーマンス
- 画面遷移1秒以内
- 問題生成は即時

### 可用性
- 完全オフラインで使用可
- 子ども一人でも直感操作可能

### セキュリティ
- 個人情報は端末内のみ保存
- 外部通信なし

### 保守性
- ロジックをユーティリティ化
- テストカバレッジ80%以上

## 成功指標

### 定量
- 1回の平均利用時間5分以上
- 週3回以上継続利用

### 定性
- 保護者の罪悪感軽減の声
- 学校で先生が推薦してくれる

## 将来的に検討する機能
- ごほうびアバター
- デイリーチャレンジ
- クラス単位ランキング
- 学習進捗レポート
- オンライン対戦
